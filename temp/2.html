<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ophelia</title>
    <!-- Use Bootstrap 5 for modern look -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="./static/content/site.css" />
    <link rel="stylesheet" type="text/css" href="./static/content/Aspire.Dashboard.styles.css" />
    <link rel="stylesheet" type="text/css" href="./static/content/chatgptassist.css" />
</head>
<body>
    <!-- Previous nav section remains unchanged -->
    
    <!-- Add Modal Components -->
    <div class="modal fade" id="setupCommandsModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="setupCommandsTitle">Setup Commands</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <pre id="setupCommandsContent" class="bg-light p-3 rounded"></pre>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="copySetupCommands()">Copy Commands</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Curl Command Copy Modal -->
    <div class="modal fade" id="curlCommandModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Curl Command</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <pre id="curlCommandContent" class="bg-light p-3 rounded"></pre>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="copyCurlCommand()">Copy Command</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Rest of the HTML content remains unchanged until the script section -->

    <script>
        // Initialize Bootstrap modals
        const setupModal = new bootstrap.Modal(document.getElementById('setupCommandsModal'));
        const curlModal = new bootstrap.Modal(document.getElementById('curlCommandModal'));
        
        let currentCommand = '';

        function showSetupCommands(title, commands) {
            document.getElementById('setupCommandsTitle').textContent = title;
            document.getElementById('setupCommandsContent').textContent = commands;
            setupModal.show();
        }

        function copySetupCommands() {
            const commands = document.getElementById('setupCommandsContent').textContent;
            navigator.clipboard.writeText(commands)
                .then(() => {
                    const copyBtn = document.querySelector('#setupCommandsModal .btn-primary');
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => {
                        copyBtn.textContent = 'Copy Commands';
                    }, 2000);
                });
        }

        function showCurlCommand(command) {
            currentCommand = command;
            document.getElementById('curlCommandContent').textContent = command;
            curlModal.show();
        }

        function copyCurlCommand() {
            navigator.clipboard.writeText(currentCommand)
                .then(() => {
                    const copyBtn = document.querySelector('#curlCommandModal .btn-primary');
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => {
                        copyBtn.textContent = 'Copy Command';
                    }, 2000);
                });
        }

        // Update the framework template buttons to use modals
        document.querySelectorAll('.btn-outline-secondary').forEach(btn => {
            const originalOnclick = btn.onclick;
            if (originalOnclick && originalOnclick.toString().includes('alert')) {
                btn.onclick = function() {
                    const commands = originalOnclick.toString()
                        .match(/alert\(['"](.*)['"]\)/)[1]
                        .replace(/\\n/g, '\n');
                    showSetupCommands('Setup Commands', commands);
                };
            }
        });

        // Update the curl command buttons
        function showCurlCommandModal(command) {
            showCurlCommand(command);
        }

        // Previous dropdown and year logic remains unchanged
    </script>
</body>
</html>
